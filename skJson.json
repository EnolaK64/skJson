{
  "conditions": [
    {
      "id": "CondJsonFileExist",
      "name": "Json file exists",
      "description": [
        "You can check if the json file already exists or not."
      ],
      "examples": [
        "command FileExists:",
        "\ttrigger",
        "\t\tset {_json} to json from string \"{'A': [{'B': {}}, false, true, 10, 20, 22.22, 'A']}\" if json file \"plugins/test/main.json\" already exists"
      ],
      "since": [
        "2.8.0 - performance & clean"
      ],
      "patterns": [
        "json [file] %string% [already] exists",
        "json [file] %string% [already] does(n't| not) exists"
      ]
    },
    {
      "id": "CondJsonIsLoaded",
      "name": "Json file is cached",
      "description": [
        "Check if the file for given id is cached"
      ],
      "examples": [
        "on load:",
        "\tif cached json \"test\" if linked:",
        "\t\tsend true"
      ],
      "since": [
        "2.8.0 - performance & clean"
      ],
      "patterns": [
        "[cached] json %string% is (load|linked)",
        "[cached] json %string% is(n't| not) (load|linked)"
      ]
    },
    {
      "id": "CondJsonFileEmpty",
      "name": "Json file is empty",
      "description": [
        "You can check if the json file empty"
      ],
      "examples": [
        "Command jsonFileIsEmpty:",
        "\ttrigger",
        "\t\tsend true if json file \"plugins/raw/test.json\" is empty:"
      ],
      "since": [
        "2.8.0 - performance & clean"
      ],
      "patterns": [
        "json file %string% is empty",
        "json file %string% is(n't| not) empty"
      ]
    },
    {
      "id": "CondJsonIsListened",
      "name": "Json file is listening",
      "description": [
        "Check if the file for given id is listening via JsonWatcher"
      ],
      "examples": [
        "on load:",
        "\tif cached json \"test\" is listen:",
        "\t\tsend true"
      ],
      "since": [
        "2.8.0 - performance & clean"
      ],
      "patterns": [
        "[cached] json [id] %string% is listen",
        "[cached] json [id] %string% is(n't| not) listen"
      ]
    },
    {
      "id": "CondJsonHas",
      "name": "Json has value/key",
      "description": [
        " You can check if the inserted keys or values already in your specified json"
      ],
      "examples": [
        "on load:",
        "    set {_json} to json from string \"{'test5': [1], 'test6': ['key', 'key2', 'key3']}\"",
        "    if {_json} has keys \"test5\", \"test6\", \"A\":",
        "        send true",
        "    else:",
        "        send false"
      ],
      "since": [
        "2.8.0 - performance & clean"
      ],
      "patterns": [
        "%json% [:directly] has (:value|:key)[s] %objects%",
        "%json% [:directly] does(n't| not) have (:value|:key)[s] %objects%"
      ]
    },
    {
      "id": "CondJsonEmpty",
      "name": "Json is empty",
      "description": [
        "You can check if the json empty"
      ],
      "examples": [
        "Command jsonIsEmpty",
        "\ttrigger",
        "\t\tset {_json} to json object",
        "\t\tsend true if {_json} is empty"
      ],
      "since": [
        "2.8.0 - performance & clean"
      ],
      "patterns": [
        "json %json% is empty",
        "json %json% is(n't| not) empty"
      ]
    },
    {
      "id": "CondJsonType",
      "name": "Type of json",
      "description": [
        "You check json type of Json"
      ],
      "examples": [
        "on load:",
        "\tif type of {_json} is primitive:",
        "\tsend true"
      ],
      "since": [
        "2.8.0 - performance & clean"
      ],
      "patterns": [
        "type of %json% (is|=) (1:primitive|2:[json]object|3:array)",
        "type of %json% (is(n't| not)|!=) (1:primitive|2:[json]object|3:array)"
      ]
    }
  ],
  "effects": [
    {
      "id": "EffExecuteRequest",
      "name": "Execute a http request",
      "description": [
        "You can execute a web request to rest api. with json encoded body/headers"
      ],
      "examples": [
        "set {_headers} to json from text \"{'Content-type': 'application/json'}\"",
        "execute MOCK request to \"https://dummyjson.com/http/200\"",
        "execute GET request to \"https://dummyjson.com/products/ with headers \"Content-type: application/json\"",
        "execute POST request to \"https://dummyjson.com/products/add\" with headers \"Content-type: application/json\" and with data \"title: TEST\"",
        "send request's body with pretty print",
        "",
        "",
        "execute GET request to \"https://dummyjson.com/products/ with headers \"Content-type: application/json\"",
        "if request's code is 200:",
        "\tsend current request's body with pretty print"
      ],
      "since": [
        "2.8.3, 2.8.0 performance & clean"
      ],
      "patterns": [
        "(execute|send|make) [new] (<.+>|%string%) request to %string% [(:with headers) %strings/json%] [and with (:body|:data) %strings/json%]",
        "(execute|send|make) [new] (<.+>|%string%) request to %string% [with (:body|:data) %strings/json%] [and (:with headers) %strings/json%]"
      ]
    },
    {
      "id": "EffMakeListen",
      "name": "JsonWatcher - Start listening to file",
      "description": [
        "You can register listener for json file, and while the file is updated the cache for this file will be also so."
      ],
      "examples": [
        "on script load",
        "\tmake jsonwatcher listen to \"mine.id\""
      ],
      "since": [
        "2.8.0 - performance & clean"
      ],
      "patterns": [
        "make [json]watcher listen to %string%"
      ]
    },
    {
      "id": "EffStopListen",
      "name": "JsonWatcher - Stop listening to file",
      "description": [
        "That will be stop listen file for given id"
      ],
      "examples": [
        "on script load",
        "\tstop jsonwatcher listen to id \"mine.id\""
      ],
      "since": [
        "2.8.0 - performance & clean"
      ],
      "patterns": [
        "stop [json]watcher listen to [id] %string%"
      ]
    },
    {
      "id": "EffLinkJsonFile",
      "name": "Link json file with defined cache.",
      "description": [
        "You can works with the cache instead of reopening the file again & again."
      ],
      "examples": [
        "on load:",
        "\tlink json file \"<path to file>\" as \"mine.id\"",
        "\tlink json file \"<path to file>\" as \"mine.id\" and make jsonwatcher listen"
      ],
      "since": [
        "2.8.0 - performance & clean"
      ],
      "patterns": [
        "link [json] file %string% as %string% [(:and make) [json]watcher listen]"
      ]
    },
    {
      "id": "EffJsonToSkriptList",
      "name": "Map json to skript list",
      "description": [
        "Mapping json to the List and get those values"
      ],
      "examples": [
        "on load:",
        "\tset {_json} to json from string \"{'test': 'test2': {}}\"",
        "\tset {_json} to \"{\"\"test\"\": \"\"test2\"\": {}}\"",
        "\tmap {_json} to {_json::*}",
        "\tsend {_json::*}"
      ],
      "since": [
        "2.8.3 - b8210 (Fix mapping), 2.8.0 - performance & clean"
      ],
      "patterns": [
        "(map|copy) %json/string% to %objects%"
      ]
    },
    {
      "id": "EffNewJsonFile",
      "name": "New json file",
      "description": [
        "You can create a new json file."
      ],
      "since": [
        "2.8.0 - performance & clean"
      ],
      "patterns": [
        "[:async] new json file %string% [(:with) (object|content)[s] %object%]"
      ]
    },
    {
      "id": "EffSaveCache",
      "name": "Save cached json to file",
      "description": [
        "It's allow save cached json back to the file"
      ],
      "examples": [
        "on unload:",
        "\tsave cached json \"test\""
      ],
      "since": [
        "2.8.0 - performance & clean"
      ],
      "patterns": [
        "save [cached] json %string%",
        "save all [cached] jsons"
      ]
    },
    {
      "id": "EffUnlinkJsonFile",
      "name": "UnLink or Unload json file",
      "description": [
        "You can unload the json file."
      ],
      "examples": [
        "on load:",
        "\tunlink json \"mine.id\""
      ],
      "since": [
        "2.8.0 - performance & clean"
      ],
      "patterns": [
        "unlink json %string%"
      ]
    },
    {
      "id": "EffWriteJsonFile",
      "name": "Write json file with contents",
      "description": [
        "You can write/re-write to jsons"
      ],
      "examples": [
        "command sk-example:",
        "\ttrigger:",
        "\t\tset {_json} to json from player's world",
        "\t\twrite {_json} to json file \"*.json\""
      ],
      "since": [
        "2.8.0 performance & clean"
      ],
      "patterns": [
        "[re[-]]write %object% to [json file] %string/jsonfile%"
      ]
    },
    {
      "id": "EffEditFile",
      "name": "change json file",
      "description": [
        "You can change json file."
      ],
      "examples": [
        "command jsonFileValue:",
        "\ttrigger:",
        "\t\tchange key \"A\" of jsonfile(\"plugins/<>/test.json\") to \"B\""
      ],
      "since": [
        "2.8.0 - performance & clean"
      ],
      "patterns": [
        "[:async] change (:value|:key) %string% of (%jsonfile/string%|(:json file) %string%) to %objects%"
      ]
    },
    {
      "id": "EffLoadJsonsInDirectory",
      "name": "link and load all json files from given folder",
      "description": [
        "Handle all files from folder"
      ],
      "examples": [
        "        load json files from \"plugins/raw/\" and save it in \"raw\"\n        loop entries of json \"raw\":\n            send loop-element\n        "
      ],
      "since": [
        "2.8.6"
      ],
      "patterns": [
        "load json files from %string% and save it in %string%"
      ]
    }
  ],
  "expressions": [
    {
      "id": "GetAllCachedJson",
      "name": "All cached jsons",
      "description": [
        "That will return jsons from your cache."
      ],
      "examples": [
        "command AllCachedJsons:",
        "\ttrigger:",
        "\t\tsend all cached jsons"
      ],
      "since": [
        "2.8.0 performance & clean"
      ],
      "return type": "json element",
      "changers": [
        "add",
        "remove"
      ],
      "patterns": [
        "all cached jsons"
      ]
    },
    {
      "id": "ExprSkriptListToJson",
      "name": "Array or List formatted to JSON.",
      "description": [
        "It allows you to convert the sheet back to Json!",
        "Value changes don't work for nested objects, to change the values of a nested object use Change"
      ],
      "examples": [
        "on script load:",
        "\tset {-json} to json from string \"{'test': [1,2,3,false,null,'some'], 'test2': {'something': false}}\"",
        "\tmap {-json} to {_json::*}",
        "\tsend \"&9%{_json::*}'s form with pretty print%\""
      ],
      "since": [
        "2.8.3 - Fix mapping for Skript beta, 1.3.0"
      ],
      "return type": "json element",
      "changers": [
        "add",
        "remove"
      ],
      "patterns": [
        "[the] form[atted json] of %objects%",
        "%objects%'[s] form[atted json]"
      ]
    },
    {
      "id": "ExprJsonCountOf",
      "name": "Count of objects/phrases",
      "description": [
        "You can get the exact number of identical keys or values from the entire json because `count of` works recursively."
      ],
      "examples": [
        "set {_json} to json from string \"{'A': [{'B': {}}], 'X': {}, 'UN': 'A'}\"",
        "add diamond sword to {_json} for given path \"A[1]:B\"",
        "send {_json}",
        "send count of diamond sword in {_json}",
        "send number of key \"A\" in {_json}",
        "send count of \"A\" in {_json}"
      ],
      "since": [
        "2.8.0 performance & clean"
      ],
      "return type": "integer",
      "patterns": [
        "(count|number) of (:key|[value]) %object% in %json%"
      ]
    },
    {
      "id": "JsonChanger",
      "name": "Default changer of skJson (SET/REMOVE/ADD)",
      "description": [
        "Default changer you can change your current's jsons by those expressions",
        "More information you can found here.. : https://github.com/cooffeeRequired/skJson"
      ],
      "examples": [
        "remove diamond sword from {_json}",
        "remove 2nd element from json list \"pathxys\" in {_json}",
        "remove player's location from json list \"pathxys\" in {_json}",
        "remove \"hello\" from keys of json object \"pathxys\" in {_json}",
        "remove diamond sword from values of json object \"pathxys\" in {_json}",
        "set json value \"test:A\" in {_json} to diamond sword",
        "add player's location to json list \"pathxys\" in {_json}"
      ],
      "since": [
        "2.8 - b2"
      ],
      "return type": "Object",
      "changers": [
        "add",
        "set",
        "remove"
      ],
      "patterns": [
        "json list [%string%] in %json%",
        "(:keys|:values) of json object [%string%] in %json%",
        "json (:value|:key) %string% in %json%"
      ]
    },
    {
      "id": "ExprJsonElements",
      "name": "Elements/Values of the json",
      "description": [
        "You can get the main json values, or you can also get the use values for a given object/array you can also get a single value",
        "loop-value, loop-element, loop-key",
        "",
        "Means :  -> entries entries mean the entry for the looped element, for example we have element {\"B\": false}",
        "    its entry will be loop-key = B, loop-element = false, loop-value = {B=false}",
        "!Warnings: loop-key or loop-element you can use only for entries!",
        "LOOP-PATTERNS ->",
        "\tloop-value, loop-element, loop-key"
      ],
      "examples": [
        "command GetElements:\n  trigger:\n    set {_json} to json from string \"{'A': [{'B': {}}, false, true, 10, 20, 22.22, 'A']}\"\n\n    # Get single element of json\n    set {_single} to element \"A::1\" of {_json} # That will return true cause, the first element of the array \"A\" is true\n\n\n    # Get multiple elements of json\n    set {_array::*} to elements \"A\" of {_json} # That will return whole array so that mean ({\"B\": {}}, false, true, 10, 20, 22.22, A)\n\n\n    # Loop through elements\n    loop elements \"A\" of {_json}:\n        send loop-value\n\n    # loop through entries of json\n    execute GET request \"https://api.json.com/producs\"\n    loop entries of request's body:\n        if loop-key = \"data\":\n            set {_data} to element \"data\" of loop-element"
      ],
      "since": [
        "2.8.0 performance & clean"
      ],
      "return type": "Object",
      "patterns": [
        "(value|element) %string% of %object%",
        "(values|elements) [%string%] of %object%",
        "entr(y|ies) [%string%] of %object%"
      ]
    },
    {
      "id": "ExprJsonCacheGet",
      "name": "Get cached json",
      "description": [
        "You can get json from cached internal storage by with a key defined by you"
      ],
      "examples": [
        "on script load:",
        "\tset {_json} to cached json \"your\"",
        "\tsend {_json} with pretty print"
      ],
      "since": [
        "2.8.0 - performance & clean"
      ],
      "return type": "json element",
      "changers": [
        "add",
        "remove"
      ],
      "patterns": [
        "[cached] json %string%"
      ]
    },
    {
      "id": "ExprGetResponse",
      "name": "Get last response",
      "description": [
        "Get last response of executed request"
      ],
      "examples": [
        "execute HEAD request to \"https://dummyjson.com/products/1\"",
        "send body of current request with pretty print",
        "send code of current request",
        "send connection headers of current request",
        "send user headers of current requestL",
        "send url of current request"
      ],
      "since": [
        "2.8.3, 2.8.0 performance & clean"
      ],
      "return type": "Object",
      "patterns": [
        "[SkJson] [(:current|:previous)] request's (2:body|3:code|4:connection headers|[user] (5:headers)|6:url)",
        "[skJson] (2:body|3:code|4:connection headers|[user] (5:headers)|6:url) of [(:current|:previous)] request"
      ]
    },
    {
      "id": "ExprJsonSize",
      "name": "Json size of given Json",
      "examples": [
        "set {_json} to json from text \"{'A': 1, 'B': 2, 'C': {'A': 'B', 'X': 'Y'}}\"",
        "if json size of {_json} > 1:",
        "\tsend \"JSON's size is bigger the 1\""
      ],
      "since": [
        "2.8.3, 2.8.0 - performance & clean"
      ],
      "return type": "integer",
      "patterns": [
        "[the] json size of %json%",
        "%json%'[s] json size"
      ]
    },
    {
      "id": "ExprNewJson",
      "name": "New json",
      "description": [
        "It's allow create json from any source also from the file"
      ],
      "examples": [
        "set {_json} to json from file \"plugins/Skript/json-storage/database.json\"",
        "set {_json} to json from \"{\"\"test\"\":true}\"",
        "set {_json} to json from diamond sword",
        "set {_json} to json from player's location",
        "set {_json} to json from player's inventory",
        "set {_json} to json from yaml file \"string\""
      ],
      "since": [
        "2.8.0 - performance & clean"
      ],
      "return type": "json element",
      "changers": [
        "add",
        "remove"
      ],
      "patterns": [
        "json[s] from [text|string] %object%",
        "json from [(json|:yaml)] file %string%",
        "[empty] json(-| )(0:array|1:object)"
      ]
    },
    {
      "id": "ExprPrettyPrint",
      "name": "Pretty json",
      "description": [
        "Allows you to better parse json",
        "<pre>",
        "{",
        "\t\"test\": \"skJson\"",
        "\t\"Object\": {",
        "\t\t\"new\": \"data\"",
        "\t}",
        "</pre>"
      ],
      "examples": [
        "set {_json} to json from \"{'test': 'skJson', 'Object' : {'new': 'data'}}\"",
        "send {_json} with pretty print"
      ],
      "since": [
        "2.8.0 - performance & clean"
      ],
      "return type": "Object",
      "patterns": [
        "%json% with pretty print"
      ]
    }
  ],
  "types": [
    {
      "id": "JsonElement",
      "name": "json element",
      "description": [
        "Represent the json class"
      ],
      "since": [
        "2.8.0 - performance & clean"
      ],
      "patterns": [
        "json"
      ]
    },
    {
      "id": "JsonFile",
      "name": "json file",
      "description": [
        "Represent the json file class"
      ],
      "since": [
        "2.8.0 - performance & clean"
      ],
      "patterns": [
        "jsonfile"
      ]
    }
  ],
  "functions": [
    {
      "id": "function_jsonfile",
      "name": "jsonfile",
      "description": [
        "Get json file from string/object input"
      ],
      "examples": [
        "jsonfile(\"plugins/test/test.json\")"
      ],
      "since": [
        "2.8.0 - performance & clean"
      ],
      "return type": "Object",
      "patterns": [
        "jsonfile(file: string)"
      ]
    }
  ]
}
